module.exports = class Data1696860877379 {
    name = 'Data1696860877379'

    async up(db) {
        await db.query(`CREATE TABLE "wrapped_domain" ("id" character varying NOT NULL, "expiry_date" numeric NOT NULL, "fuses" integer NOT NULL, "name" text, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_aaa259344b4e7ef833bcf06cbe1" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_fcf7d9e1bebc771bfb17fd5b95" ON "wrapped_domain" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_fa3fb3fff7108a4c7f84c57ab0" ON "wrapped_domain" ("owner_id") `)
        await db.query(`CREATE TABLE "registration" ("id" character varying NOT NULL, "registration_date" numeric NOT NULL, "expiry_date" numeric NOT NULL, "cost" numeric, "label_name" text, "domain_id" character varying, "registrant_id" character varying, CONSTRAINT "PK_cb23dc9d28df8801b15e9e2b8d6" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a2348ea430f304b2835a86361b" ON "registration" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_71c21cfbf21b51f211313e11d8" ON "registration" ("registrant_id") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "resolver" ("id" character varying NOT NULL, "address" bytea NOT NULL, "content_hash" bytea, "texts" text array, "coin_types" jsonb array, "domain_id" character varying, "addr_id" character varying, CONSTRAINT "PK_b6dce266610be08e8e81cd4d897" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2b8d86cb40182edda882e901f2" ON "resolver" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_0d373b33adb77b2f6f3c24ea77" ON "resolver" ("addr_id") `)
        await db.query(`CREATE TABLE "domain" ("id" character varying NOT NULL, "name" text, "label_name" text, "labelhash" bytea, "subdomain_count" integer NOT NULL, "ttl" numeric, "is_migrated" boolean NOT NULL, "created_at" numeric NOT NULL, "expiry_date" numeric, "parent_id" character varying, "resolved_address_id" character varying, "resolver_id" character varying, "owner_id" character varying, "registrant_id" character varying, "wrapped_owner_id" character varying, "registration_id" character varying, "wrapped_domain_id" character varying, CONSTRAINT "PK_27e3ec3ea0ae02c8c5bceab3ba9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_7d85eb18ed8935de858c8a3f22" ON "domain" ("parent_id") `)
        await db.query(`CREATE INDEX "IDX_b597038b01d0ab26ce426aa3ea" ON "domain" ("resolved_address_id") `)
        await db.query(`CREATE INDEX "IDX_739629023aaf16951a6b481d59" ON "domain" ("resolver_id") `)
        await db.query(`CREATE INDEX "IDX_4e21006496ef49995f4cf5ff8c" ON "domain" ("owner_id") `)
        await db.query(`CREATE INDEX "IDX_d7400fd6ac3de154aa18580b0a" ON "domain" ("registrant_id") `)
        await db.query(`CREATE INDEX "IDX_51a9bb0fc7e50a5e804464d5bc" ON "domain" ("wrapped_owner_id") `)
        await db.query(`CREATE INDEX "IDX_1e17bae35ec07554d34d01583f" ON "domain" ("registration_id") `)
        await db.query(`CREATE INDEX "IDX_0eb232a693937bf4142d181e03" ON "domain" ("wrapped_domain_id") `)
        await db.query(`CREATE TABLE "transfer" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_fd9ddbdd49a17afcbe014401295" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_28a2f0d0e7b03e46f2e5a76026" ON "transfer" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_67375d70725aa3a4bb0d4a501e" ON "transfer" ("owner_id") `)
        await db.query(`CREATE TABLE "new_owner" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "parent_domain_id" character varying, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_0215cca59f1247a12770feb19d4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_3a0c257032c3b990f58a7d3d7c" ON "new_owner" ("parent_domain_id") `)
        await db.query(`CREATE INDEX "IDX_a3ea18c54cc8ccd7ef5491738d" ON "new_owner" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_343511842f57e18f1f0cecb307" ON "new_owner" ("owner_id") `)
        await db.query(`CREATE TABLE "new_resolver" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "domain_id" character varying, "resolver_id" character varying, CONSTRAINT "PK_586456be380a6937fa5075d0156" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_73e83a01f6c8f11148e81fc291" ON "new_resolver" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_97043ecb0366a69dca4d3e4f45" ON "new_resolver" ("resolver_id") `)
        await db.query(`CREATE TABLE "new_ttl" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "ttl" numeric NOT NULL, "domain_id" character varying, CONSTRAINT "PK_cb8383b1e99d5417619ecf23ba3" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_cf741bf4171430c93e7580c0d9" ON "new_ttl" ("domain_id") `)
        await db.query(`CREATE TABLE "wrapped_transfer" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_73d0ece9d141aa02d8d6673aef4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d0130749dd83e4eb6c86d803dd" ON "wrapped_transfer" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_43f4c449ee46a45564d57e53cd" ON "wrapped_transfer" ("owner_id") `)
        await db.query(`CREATE TABLE "name_wrapped" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "name" text, "fuses" integer NOT NULL, "expiry_date" numeric NOT NULL, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_18b21820bdcebbed1880a2276c5" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_be5a5cf3af008f475ad4d274d0" ON "name_wrapped" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_c782de24c0fe7cbf1bde7af56c" ON "name_wrapped" ("owner_id") `)
        await db.query(`CREATE TABLE "name_unwrapped" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "domain_id" character varying, "owner_id" character varying, CONSTRAINT "PK_4dc925fc3b40617546b0d10cf0e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c248a158cac6285eaf6360faa5" ON "name_unwrapped" ("domain_id") `)
        await db.query(`CREATE INDEX "IDX_502eda3183e98a3f74d187c1d5" ON "name_unwrapped" ("owner_id") `)
        await db.query(`CREATE TABLE "fuses_set" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "fuses" integer NOT NULL, "domain_id" character varying, CONSTRAINT "PK_f9765b3def1ac37c76adac14be4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b7f7839d6c748578c4aaefb319" ON "fuses_set" ("domain_id") `)
        await db.query(`CREATE TABLE "expiry_extended" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "expiry_date" numeric NOT NULL, "domain_id" character varying, CONSTRAINT "PK_b6e42d159515cf822cc8993557c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ccb566a2c9c91a28abd407d653" ON "expiry_extended" ("domain_id") `)
        await db.query(`CREATE TABLE "name_registered" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "expiry_date" numeric NOT NULL, "registration_id" character varying, "registrant_id" character varying, CONSTRAINT "PK_f4dbc3044737871329dc4871ee9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2844d8aad6f8b5ea49ccb12a28" ON "name_registered" ("registration_id") `)
        await db.query(`CREATE INDEX "IDX_0a787ebc2513bd859be1a8581c" ON "name_registered" ("registrant_id") `)
        await db.query(`CREATE TABLE "name_renewed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "expiry_date" numeric NOT NULL, "registration_id" character varying, CONSTRAINT "PK_2b4e60a0ad8136512a71c8be2a3" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_3be256d2fd588f3eb2c7b62ce9" ON "name_renewed" ("registration_id") `)
        await db.query(`CREATE TABLE "name_transferred" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "registration_id" character varying, "new_owner_id" character varying, CONSTRAINT "PK_f57e6e59e40a0e4e50ebde3bfb4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_06ef594b8fc27c45d50e97dc99" ON "name_transferred" ("registration_id") `)
        await db.query(`CREATE INDEX "IDX_d4c2a7e04746153cb85225f17a" ON "name_transferred" ("new_owner_id") `)
        await db.query(`CREATE TABLE "addr_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "resolver_id" character varying, "addr_id" character varying, CONSTRAINT "PK_3a3ff0fb1a766f50936c6bb8a76" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_54a8fce0243bbb40492985ffe3" ON "addr_changed" ("resolver_id") `)
        await db.query(`CREATE INDEX "IDX_8d16e91ca55b0e5c2d1b825ea6" ON "addr_changed" ("addr_id") `)
        await db.query(`CREATE TABLE "multicoin_addr_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "coin_type" numeric NOT NULL, "addr" bytea NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_8442cfb761f50f437445601b00a" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_9532cb0f0de8ba8dcee0724af8" ON "multicoin_addr_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "name_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "name" text NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_9ac4044cae8b7fd0100f30ef282" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f091d6d45b317302196897e20a" ON "name_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "abi_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "content_type" numeric NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_c485ff71b5f7016f571e43e9524" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a5b66fd260cc29e3742e081a88" ON "abi_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "pubkey_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "x" bytea NOT NULL, "y" bytea NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_de48f8cc0bd0c3bc974aa3a515b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_30801b909d54f3217c925c490a" ON "pubkey_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "text_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "key" text NOT NULL, "value" text, "resolver_id" character varying, CONSTRAINT "PK_30f32979b0c77e4ba2ff120fc8c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_12e6e6fe85b06c904ac19082b7" ON "text_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "contenthash_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "hash" bytea NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_c65ad1f663b2413cd1dff9490cb" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_83b60bdd37db1bead99ff5bb43" ON "contenthash_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "interface_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "interface_id" bytea NOT NULL, "implementer" bytea NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_926f4625b59a9af7edbafb55afe" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b4dd0a4c44b9ec776554a2bba1" ON "interface_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "authorisation_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "owner" bytea NOT NULL, "target" bytea NOT NULL, "is_authorized" boolean NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_315720b76894a0f00b61b86460b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0bfafe761c6b409207fe66e2dd" ON "authorisation_changed" ("resolver_id") `)
        await db.query(`CREATE TABLE "version_changed" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "transaction_id" bytea NOT NULL, "version" numeric NOT NULL, "resolver_id" character varying, CONSTRAINT "PK_bbb637add9bf3e45beeeceac110" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_8bca70157b6fd7187ce1dd763c" ON "version_changed" ("resolver_id") `)
        await db.query(`ALTER TABLE "wrapped_domain" ADD CONSTRAINT "FK_fcf7d9e1bebc771bfb17fd5b956" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "wrapped_domain" ADD CONSTRAINT "FK_fa3fb3fff7108a4c7f84c57ab0a" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "registration" ADD CONSTRAINT "FK_a2348ea430f304b2835a86361b8" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "registration" ADD CONSTRAINT "FK_71c21cfbf21b51f211313e11d80" FOREIGN KEY ("registrant_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "resolver" ADD CONSTRAINT "FK_2b8d86cb40182edda882e901f24" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "resolver" ADD CONSTRAINT "FK_0d373b33adb77b2f6f3c24ea770" FOREIGN KEY ("addr_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_7d85eb18ed8935de858c8a3f222" FOREIGN KEY ("parent_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_b597038b01d0ab26ce426aa3eaa" FOREIGN KEY ("resolved_address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_739629023aaf16951a6b481d599" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_4e21006496ef49995f4cf5ff8c4" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_d7400fd6ac3de154aa18580b0a1" FOREIGN KEY ("registrant_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_51a9bb0fc7e50a5e804464d5bc9" FOREIGN KEY ("wrapped_owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_1e17bae35ec07554d34d01583fe" FOREIGN KEY ("registration_id") REFERENCES "registration"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "domain" ADD CONSTRAINT "FK_0eb232a693937bf4142d181e036" FOREIGN KEY ("wrapped_domain_id") REFERENCES "wrapped_domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_28a2f0d0e7b03e46f2e5a760266" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_67375d70725aa3a4bb0d4a501e8" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_owner" ADD CONSTRAINT "FK_3a0c257032c3b990f58a7d3d7c1" FOREIGN KEY ("parent_domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_owner" ADD CONSTRAINT "FK_a3ea18c54cc8ccd7ef5491738d1" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_owner" ADD CONSTRAINT "FK_343511842f57e18f1f0cecb3072" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_resolver" ADD CONSTRAINT "FK_73e83a01f6c8f11148e81fc2917" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_resolver" ADD CONSTRAINT "FK_97043ecb0366a69dca4d3e4f456" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "new_ttl" ADD CONSTRAINT "FK_cf741bf4171430c93e7580c0d94" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "wrapped_transfer" ADD CONSTRAINT "FK_d0130749dd83e4eb6c86d803dd4" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "wrapped_transfer" ADD CONSTRAINT "FK_43f4c449ee46a45564d57e53cde" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_wrapped" ADD CONSTRAINT "FK_be5a5cf3af008f475ad4d274d0f" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_wrapped" ADD CONSTRAINT "FK_c782de24c0fe7cbf1bde7af56ce" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_unwrapped" ADD CONSTRAINT "FK_c248a158cac6285eaf6360faa5c" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_unwrapped" ADD CONSTRAINT "FK_502eda3183e98a3f74d187c1d53" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "fuses_set" ADD CONSTRAINT "FK_b7f7839d6c748578c4aaefb3191" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "expiry_extended" ADD CONSTRAINT "FK_ccb566a2c9c91a28abd407d6537" FOREIGN KEY ("domain_id") REFERENCES "domain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_registered" ADD CONSTRAINT "FK_2844d8aad6f8b5ea49ccb12a282" FOREIGN KEY ("registration_id") REFERENCES "registration"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_registered" ADD CONSTRAINT "FK_0a787ebc2513bd859be1a8581cf" FOREIGN KEY ("registrant_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_renewed" ADD CONSTRAINT "FK_3be256d2fd588f3eb2c7b62ce9c" FOREIGN KEY ("registration_id") REFERENCES "registration"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_transferred" ADD CONSTRAINT "FK_06ef594b8fc27c45d50e97dc99b" FOREIGN KEY ("registration_id") REFERENCES "registration"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_transferred" ADD CONSTRAINT "FK_d4c2a7e04746153cb85225f17af" FOREIGN KEY ("new_owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "addr_changed" ADD CONSTRAINT "FK_54a8fce0243bbb40492985ffe33" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "addr_changed" ADD CONSTRAINT "FK_8d16e91ca55b0e5c2d1b825ea63" FOREIGN KEY ("addr_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "multicoin_addr_changed" ADD CONSTRAINT "FK_9532cb0f0de8ba8dcee0724af83" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "name_changed" ADD CONSTRAINT "FK_f091d6d45b317302196897e20a8" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "abi_changed" ADD CONSTRAINT "FK_a5b66fd260cc29e3742e081a884" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "pubkey_changed" ADD CONSTRAINT "FK_30801b909d54f3217c925c490a1" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "text_changed" ADD CONSTRAINT "FK_12e6e6fe85b06c904ac19082b7a" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contenthash_changed" ADD CONSTRAINT "FK_83b60bdd37db1bead99ff5bb43a" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "interface_changed" ADD CONSTRAINT "FK_b4dd0a4c44b9ec776554a2bba16" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "authorisation_changed" ADD CONSTRAINT "FK_0bfafe761c6b409207fe66e2ddf" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "version_changed" ADD CONSTRAINT "FK_8bca70157b6fd7187ce1dd763c9" FOREIGN KEY ("resolver_id") REFERENCES "resolver"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "wrapped_domain"`)
        await db.query(`DROP INDEX "public"."IDX_fcf7d9e1bebc771bfb17fd5b95"`)
        await db.query(`DROP INDEX "public"."IDX_fa3fb3fff7108a4c7f84c57ab0"`)
        await db.query(`DROP TABLE "registration"`)
        await db.query(`DROP INDEX "public"."IDX_a2348ea430f304b2835a86361b"`)
        await db.query(`DROP INDEX "public"."IDX_71c21cfbf21b51f211313e11d8"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP TABLE "resolver"`)
        await db.query(`DROP INDEX "public"."IDX_2b8d86cb40182edda882e901f2"`)
        await db.query(`DROP INDEX "public"."IDX_0d373b33adb77b2f6f3c24ea77"`)
        await db.query(`DROP TABLE "domain"`)
        await db.query(`DROP INDEX "public"."IDX_7d85eb18ed8935de858c8a3f22"`)
        await db.query(`DROP INDEX "public"."IDX_b597038b01d0ab26ce426aa3ea"`)
        await db.query(`DROP INDEX "public"."IDX_739629023aaf16951a6b481d59"`)
        await db.query(`DROP INDEX "public"."IDX_4e21006496ef49995f4cf5ff8c"`)
        await db.query(`DROP INDEX "public"."IDX_d7400fd6ac3de154aa18580b0a"`)
        await db.query(`DROP INDEX "public"."IDX_51a9bb0fc7e50a5e804464d5bc"`)
        await db.query(`DROP INDEX "public"."IDX_1e17bae35ec07554d34d01583f"`)
        await db.query(`DROP INDEX "public"."IDX_0eb232a693937bf4142d181e03"`)
        await db.query(`DROP TABLE "transfer"`)
        await db.query(`DROP INDEX "public"."IDX_28a2f0d0e7b03e46f2e5a76026"`)
        await db.query(`DROP INDEX "public"."IDX_67375d70725aa3a4bb0d4a501e"`)
        await db.query(`DROP TABLE "new_owner"`)
        await db.query(`DROP INDEX "public"."IDX_3a0c257032c3b990f58a7d3d7c"`)
        await db.query(`DROP INDEX "public"."IDX_a3ea18c54cc8ccd7ef5491738d"`)
        await db.query(`DROP INDEX "public"."IDX_343511842f57e18f1f0cecb307"`)
        await db.query(`DROP TABLE "new_resolver"`)
        await db.query(`DROP INDEX "public"."IDX_73e83a01f6c8f11148e81fc291"`)
        await db.query(`DROP INDEX "public"."IDX_97043ecb0366a69dca4d3e4f45"`)
        await db.query(`DROP TABLE "new_ttl"`)
        await db.query(`DROP INDEX "public"."IDX_cf741bf4171430c93e7580c0d9"`)
        await db.query(`DROP TABLE "wrapped_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_d0130749dd83e4eb6c86d803dd"`)
        await db.query(`DROP INDEX "public"."IDX_43f4c449ee46a45564d57e53cd"`)
        await db.query(`DROP TABLE "name_wrapped"`)
        await db.query(`DROP INDEX "public"."IDX_be5a5cf3af008f475ad4d274d0"`)
        await db.query(`DROP INDEX "public"."IDX_c782de24c0fe7cbf1bde7af56c"`)
        await db.query(`DROP TABLE "name_unwrapped"`)
        await db.query(`DROP INDEX "public"."IDX_c248a158cac6285eaf6360faa5"`)
        await db.query(`DROP INDEX "public"."IDX_502eda3183e98a3f74d187c1d5"`)
        await db.query(`DROP TABLE "fuses_set"`)
        await db.query(`DROP INDEX "public"."IDX_b7f7839d6c748578c4aaefb319"`)
        await db.query(`DROP TABLE "expiry_extended"`)
        await db.query(`DROP INDEX "public"."IDX_ccb566a2c9c91a28abd407d653"`)
        await db.query(`DROP TABLE "name_registered"`)
        await db.query(`DROP INDEX "public"."IDX_2844d8aad6f8b5ea49ccb12a28"`)
        await db.query(`DROP INDEX "public"."IDX_0a787ebc2513bd859be1a8581c"`)
        await db.query(`DROP TABLE "name_renewed"`)
        await db.query(`DROP INDEX "public"."IDX_3be256d2fd588f3eb2c7b62ce9"`)
        await db.query(`DROP TABLE "name_transferred"`)
        await db.query(`DROP INDEX "public"."IDX_06ef594b8fc27c45d50e97dc99"`)
        await db.query(`DROP INDEX "public"."IDX_d4c2a7e04746153cb85225f17a"`)
        await db.query(`DROP TABLE "addr_changed"`)
        await db.query(`DROP INDEX "public"."IDX_54a8fce0243bbb40492985ffe3"`)
        await db.query(`DROP INDEX "public"."IDX_8d16e91ca55b0e5c2d1b825ea6"`)
        await db.query(`DROP TABLE "multicoin_addr_changed"`)
        await db.query(`DROP INDEX "public"."IDX_9532cb0f0de8ba8dcee0724af8"`)
        await db.query(`DROP TABLE "name_changed"`)
        await db.query(`DROP INDEX "public"."IDX_f091d6d45b317302196897e20a"`)
        await db.query(`DROP TABLE "abi_changed"`)
        await db.query(`DROP INDEX "public"."IDX_a5b66fd260cc29e3742e081a88"`)
        await db.query(`DROP TABLE "pubkey_changed"`)
        await db.query(`DROP INDEX "public"."IDX_30801b909d54f3217c925c490a"`)
        await db.query(`DROP TABLE "text_changed"`)
        await db.query(`DROP INDEX "public"."IDX_12e6e6fe85b06c904ac19082b7"`)
        await db.query(`DROP TABLE "contenthash_changed"`)
        await db.query(`DROP INDEX "public"."IDX_83b60bdd37db1bead99ff5bb43"`)
        await db.query(`DROP TABLE "interface_changed"`)
        await db.query(`DROP INDEX "public"."IDX_b4dd0a4c44b9ec776554a2bba1"`)
        await db.query(`DROP TABLE "authorisation_changed"`)
        await db.query(`DROP INDEX "public"."IDX_0bfafe761c6b409207fe66e2dd"`)
        await db.query(`DROP TABLE "version_changed"`)
        await db.query(`DROP INDEX "public"."IDX_8bca70157b6fd7187ce1dd763c"`)
        await db.query(`ALTER TABLE "wrapped_domain" DROP CONSTRAINT "FK_fcf7d9e1bebc771bfb17fd5b956"`)
        await db.query(`ALTER TABLE "wrapped_domain" DROP CONSTRAINT "FK_fa3fb3fff7108a4c7f84c57ab0a"`)
        await db.query(`ALTER TABLE "registration" DROP CONSTRAINT "FK_a2348ea430f304b2835a86361b8"`)
        await db.query(`ALTER TABLE "registration" DROP CONSTRAINT "FK_71c21cfbf21b51f211313e11d80"`)
        await db.query(`ALTER TABLE "resolver" DROP CONSTRAINT "FK_2b8d86cb40182edda882e901f24"`)
        await db.query(`ALTER TABLE "resolver" DROP CONSTRAINT "FK_0d373b33adb77b2f6f3c24ea770"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_7d85eb18ed8935de858c8a3f222"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_b597038b01d0ab26ce426aa3eaa"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_739629023aaf16951a6b481d599"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_4e21006496ef49995f4cf5ff8c4"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_d7400fd6ac3de154aa18580b0a1"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_51a9bb0fc7e50a5e804464d5bc9"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_1e17bae35ec07554d34d01583fe"`)
        await db.query(`ALTER TABLE "domain" DROP CONSTRAINT "FK_0eb232a693937bf4142d181e036"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_28a2f0d0e7b03e46f2e5a760266"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_67375d70725aa3a4bb0d4a501e8"`)
        await db.query(`ALTER TABLE "new_owner" DROP CONSTRAINT "FK_3a0c257032c3b990f58a7d3d7c1"`)
        await db.query(`ALTER TABLE "new_owner" DROP CONSTRAINT "FK_a3ea18c54cc8ccd7ef5491738d1"`)
        await db.query(`ALTER TABLE "new_owner" DROP CONSTRAINT "FK_343511842f57e18f1f0cecb3072"`)
        await db.query(`ALTER TABLE "new_resolver" DROP CONSTRAINT "FK_73e83a01f6c8f11148e81fc2917"`)
        await db.query(`ALTER TABLE "new_resolver" DROP CONSTRAINT "FK_97043ecb0366a69dca4d3e4f456"`)
        await db.query(`ALTER TABLE "new_ttl" DROP CONSTRAINT "FK_cf741bf4171430c93e7580c0d94"`)
        await db.query(`ALTER TABLE "wrapped_transfer" DROP CONSTRAINT "FK_d0130749dd83e4eb6c86d803dd4"`)
        await db.query(`ALTER TABLE "wrapped_transfer" DROP CONSTRAINT "FK_43f4c449ee46a45564d57e53cde"`)
        await db.query(`ALTER TABLE "name_wrapped" DROP CONSTRAINT "FK_be5a5cf3af008f475ad4d274d0f"`)
        await db.query(`ALTER TABLE "name_wrapped" DROP CONSTRAINT "FK_c782de24c0fe7cbf1bde7af56ce"`)
        await db.query(`ALTER TABLE "name_unwrapped" DROP CONSTRAINT "FK_c248a158cac6285eaf6360faa5c"`)
        await db.query(`ALTER TABLE "name_unwrapped" DROP CONSTRAINT "FK_502eda3183e98a3f74d187c1d53"`)
        await db.query(`ALTER TABLE "fuses_set" DROP CONSTRAINT "FK_b7f7839d6c748578c4aaefb3191"`)
        await db.query(`ALTER TABLE "expiry_extended" DROP CONSTRAINT "FK_ccb566a2c9c91a28abd407d6537"`)
        await db.query(`ALTER TABLE "name_registered" DROP CONSTRAINT "FK_2844d8aad6f8b5ea49ccb12a282"`)
        await db.query(`ALTER TABLE "name_registered" DROP CONSTRAINT "FK_0a787ebc2513bd859be1a8581cf"`)
        await db.query(`ALTER TABLE "name_renewed" DROP CONSTRAINT "FK_3be256d2fd588f3eb2c7b62ce9c"`)
        await db.query(`ALTER TABLE "name_transferred" DROP CONSTRAINT "FK_06ef594b8fc27c45d50e97dc99b"`)
        await db.query(`ALTER TABLE "name_transferred" DROP CONSTRAINT "FK_d4c2a7e04746153cb85225f17af"`)
        await db.query(`ALTER TABLE "addr_changed" DROP CONSTRAINT "FK_54a8fce0243bbb40492985ffe33"`)
        await db.query(`ALTER TABLE "addr_changed" DROP CONSTRAINT "FK_8d16e91ca55b0e5c2d1b825ea63"`)
        await db.query(`ALTER TABLE "multicoin_addr_changed" DROP CONSTRAINT "FK_9532cb0f0de8ba8dcee0724af83"`)
        await db.query(`ALTER TABLE "name_changed" DROP CONSTRAINT "FK_f091d6d45b317302196897e20a8"`)
        await db.query(`ALTER TABLE "abi_changed" DROP CONSTRAINT "FK_a5b66fd260cc29e3742e081a884"`)
        await db.query(`ALTER TABLE "pubkey_changed" DROP CONSTRAINT "FK_30801b909d54f3217c925c490a1"`)
        await db.query(`ALTER TABLE "text_changed" DROP CONSTRAINT "FK_12e6e6fe85b06c904ac19082b7a"`)
        await db.query(`ALTER TABLE "contenthash_changed" DROP CONSTRAINT "FK_83b60bdd37db1bead99ff5bb43a"`)
        await db.query(`ALTER TABLE "interface_changed" DROP CONSTRAINT "FK_b4dd0a4c44b9ec776554a2bba16"`)
        await db.query(`ALTER TABLE "authorisation_changed" DROP CONSTRAINT "FK_0bfafe761c6b409207fe66e2ddf"`)
        await db.query(`ALTER TABLE "version_changed" DROP CONSTRAINT "FK_8bca70157b6fd7187ce1dd763c9"`)
    }
}
